{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ramda\\\\Documents\\\\Projects\\\\rakugaki\\\\rakugaki_app\\\\src\\\\pages\\\\rakugakidraw.js\";\nimport React, { Component } from 'react';\nimport '../css/rakugaki_draw.css';\nimport '../Components/rakugakidraw.js';\nimport { Navbar } from 'react-bootstrap';\nimport NavBanner from '../Components/NavBanner';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass DrawingCanvas extends Component {\n  componentDidMount() {\n    const canvas = document.getElementById('canvas');\n    const ctx = canvas.getContext('2d');\n    ctx.fillStyle = 'white';\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n    const undoButton = document.getElementById('undo');\n    undoButton.addEventListener('click', undo);\n    const redoButton = document.getElementById('redo');\n    redoButton.addEventListener('click', redo);\n    let isDrawing = false;\n    let currentColor = 'black';\n    let currentSize = 10;\n    let currentTool = 'pen';\n    canvas.addEventListener('mousedown', startDrawing);\n    canvas.addEventListener('mousemove', draw);\n    canvas.addEventListener('mouseup', stopDrawing);\n    canvas.addEventListener('mouseout', stopDrawing);\n    const controls = document.getElementById('controls');\n    controls.addEventListener('click', setTool);\n    function startDrawing(event) {\n      isDrawing = true;\n      ctx.beginPath();\n      ctx.moveTo(event.offsetX, event.offsetY);\n    }\n    function draw(event) {\n      if (isDrawing) {\n        ctx.lineTo(event.offsetX, event.offsetY);\n        ctx.strokeStyle = currentColor;\n        ctx.lineWidth = currentSize;\n        ctx.stroke();\n        states.push({\n          image: canvas.toDataURL(),\n          stroke: {\n            color: currentColor,\n            width: currentSize,\n            x: event.offsetX,\n            y: event.offsetY\n          }\n        });\n        currentState++;\n      }\n    }\n    function stopDrawing() {\n      isDrawing = false;\n    }\n    function setTool(event) {\n      if (event.target.id === 'pen') {\n        currentTool = 'pen';\n        currentColor = 'black';\n      } else if (event.target.id === 'eraser') {\n        currentTool = 'eraser';\n        currentColor = 'white';\n      } else if (event.target.id === 'small') {\n        if (currentTool === 'pen') currentColor = 'black';\n        currentSize = 10;\n      } else if (event.target.id === 'medium') {\n        if (currentTool === 'pen') currentColor = 'black';\n        currentSize = 20;\n      } else if (event.target.id === 'large') {\n        if (currentTool === 'pen') currentColor = 'black';\n        currentSize = 30;\n      } else if (event.target.id === 'clear') {\n        ctx.fillStyle = 'white';\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\n      } else if (event.target.id === 'download') {\n        downloadCanvas();\n      }\n    }\n    function downloadCanvas() {\n      const link = document.createElement('a');\n      link.download = 'image.jpg';\n      link.href = canvas.toDataURL('image/jpeg');\n      link.click();\n    }\n\n    //=====================================================\n\n    let currentState = 0;\n    let states = [];\n\n    // Push the initial state of the canvas onto the states array\n    states.push(canvas.toDataURL());\n    function undo() {\n      if (currentState > 0) {\n        currentState--;\n        // Redraw the previous state of the canvas, but remove the last stroke\n        const image = new Image();\n        image.src = states[currentState].image;\n        image.onload = function () {\n          ctx.drawImage(image, 0, 0);\n        };\n      }\n    }\n    function redo() {\n      if (currentState < states.length - 1) {\n        currentState++;\n        const image = new Image();\n        image.src = states[currentState].image;\n        image.onload = function () {\n          ctx.drawImage(image, 0, 0);\n        };\n      }\n    }\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"background\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"controls\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          class: \"tool\",\n          id: \"pen\",\n          children: \"Pen\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          class: \"tool\",\n          id: \"eraser\",\n          children: \"Eraser\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          class: \"tool\",\n          id: \"small\",\n          children: \"Small\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          class: \"tool\",\n          id: \"medium\",\n          children: \"Medium\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          class: \"tool\",\n          id: \"large\",\n          children: \"Large\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          class: \"tool\",\n          id: \"clear\",\n          children: \"Clear\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          class: \"tool\",\n          id: \"undo\",\n          children: \"Undo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          class: \"tool\",\n          id: \"redo\",\n          children: \"Redo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          class: \"tool\",\n          id: \"download\",\n          children: \"Download\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"canvas\", {\n          id: \"canvas\",\n          width: \"500\",\n          height: \"300\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 19\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 11\n    }, this);\n  }\n}\nexport default DrawingCanvas;","map":{"version":3,"names":["React","Component","Navbar","NavBanner","DrawingCanvas","componentDidMount","canvas","document","getElementById","ctx","getContext","fillStyle","fillRect","width","height","undoButton","addEventListener","undo","redoButton","redo","isDrawing","currentColor","currentSize","currentTool","startDrawing","draw","stopDrawing","controls","setTool","event","beginPath","moveTo","offsetX","offsetY","lineTo","strokeStyle","lineWidth","stroke","states","push","image","toDataURL","color","x","y","currentState","target","id","downloadCanvas","link","createElement","download","href","click","Image","src","onload","drawImage","length","render"],"sources":["C:/Users/ramda/Documents/Projects/rakugaki/rakugaki_app/src/pages/rakugakidraw.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport '../css/rakugaki_draw.css';\r\nimport '../Components/rakugakidraw.js';\r\nimport { Navbar } from 'react-bootstrap';\r\nimport NavBanner from '../Components/NavBanner';\r\n  \r\n\r\nclass DrawingCanvas extends Component {\r\n    \r\n    componentDidMount() {\r\n        const canvas = document.getElementById('canvas');\r\n        const ctx = canvas.getContext('2d');\r\n        ctx.fillStyle = 'white';\r\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n        const undoButton = document.getElementById('undo');\r\n        undoButton.addEventListener('click', undo);\r\n        const redoButton = document.getElementById('redo');\r\n        redoButton.addEventListener('click', redo); \r\n        let isDrawing = false;\r\n        let currentColor = 'black';\r\n        let currentSize = 10;\r\n        let currentTool = 'pen';\r\n        canvas.addEventListener('mousedown', startDrawing);\r\n        canvas.addEventListener('mousemove', draw);\r\n        canvas.addEventListener('mouseup', stopDrawing);\r\n        canvas.addEventListener('mouseout', stopDrawing);\r\n        const controls = document.getElementById('controls');\r\n        controls.addEventListener('click', setTool); \r\n        function startDrawing(event) {\r\n          isDrawing = true;\r\n          ctx.beginPath();\r\n          ctx.moveTo(event.offsetX, event.offsetY);\r\n        }\r\n      \r\n      function draw(event) {\r\n        if (isDrawing) {\r\n          ctx.lineTo(event.offsetX, event.offsetY);\r\n          ctx.strokeStyle = currentColor;\r\n          ctx.lineWidth = currentSize;\r\n          ctx.stroke();\r\n          states.push({\r\n            image: canvas.toDataURL(),\r\n            stroke: {\r\n              color: currentColor,\r\n              width: currentSize,\r\n              x: event.offsetX,\r\n              y: event.offsetY\r\n            }\r\n          });\r\n          currentState++;\r\n        }\r\n      }\r\n      \r\n      function stopDrawing() {\r\n        isDrawing = false;\r\n      }\r\n      \r\n      function setTool(event) {\r\n        if (event.target.id === 'pen') {\r\n          currentTool = 'pen';\r\n          currentColor = 'black';\r\n        } else if (event.target.id === 'eraser') {\r\n          currentTool = 'eraser';\r\n          currentColor = 'white';\r\n        } else if (event.target.id === 'small') {\r\n          if(currentTool === 'pen') currentColor = 'black';\r\n          currentSize = 10;\r\n        } else if (event.target.id === 'medium') {\r\n          if(currentTool === 'pen') currentColor = 'black';\r\n          currentSize = 20;\r\n        } else if (event.target.id === 'large') {\r\n          if(currentTool === 'pen') currentColor = 'black';\r\n          currentSize = 30;\r\n        } else if (event.target.id === 'clear') {\r\n          ctx.fillStyle = 'white';\r\n          ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n        } else if (event.target.id === 'download') {\r\n          downloadCanvas();\r\n        }\r\n      }\r\n      \r\n      function downloadCanvas() {\r\n        const link = document.createElement('a');\r\n        link.download = 'image.jpg';\r\n        link.href = canvas.toDataURL('image/jpeg');\r\n        link.click();\r\n      }\r\n        \r\n        //=====================================================\r\n        \r\n      let currentState = 0;\r\n      let states = [];\r\n        \r\n        // Push the initial state of the canvas onto the states array\r\n      states.push(canvas.toDataURL());\r\n        \r\n      function undo() {\r\n        if (currentState > 0) {\r\n          currentState--;\r\n          // Redraw the previous state of the canvas, but remove the last stroke\r\n          const image = new Image();\r\n          image.src = states[currentState].image;\r\n          image.onload = function() {\r\n            ctx.drawImage(image, 0, 0);\r\n          };\r\n        }\r\n      }\r\n        \r\n      function redo() {\r\n        if (currentState < states.length - 1) {\r\n          currentState++;\r\n          const image = new Image();\r\n          image.src = states[currentState].image;\r\n          image.onload = function() {\r\n            ctx.drawImage(image, 0, 0);\r\n          };\r\n        }\r\n      }\r\n    }\r\n    render() {\r\n      return (\r\n       \r\n          <div id='background'>\r\n              <div id=\"controls\">\r\n                  <button class=\"tool\" id=\"pen\">Pen</button>\r\n                  <button class=\"tool\" id=\"eraser\">Eraser</button>\r\n                  <button class=\"tool\" id=\"small\">Small</button>\r\n                  <button class=\"tool\" id=\"medium\">Medium</button>\r\n                  <button class=\"tool\" id=\"large\">Large</button>\r\n                  <button class=\"tool\" id=\"clear\">Clear</button>\r\n                  <button class=\"tool\" id=\"undo\">Undo</button>\r\n                  <button class=\"tool\" id=\"redo\">Redo</button>\r\n                  <button class=\"tool\" id=\"download\">Download</button>\r\n              </div>\r\n              <div class=\"container\">\r\n                  <canvas id=\"canvas\" width=\"500\" height=\"300\"></canvas>\r\n              </div>\r\n          </div>\r\n      );\r\n}}\r\n\r\n\r\nexport default DrawingCanvas;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}